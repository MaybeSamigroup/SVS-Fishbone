<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <ItemGroup>
        <NetDll Include="..\..\Resource\*.*"/>
    </ItemGroup>
    <Target Name="Deploy" AfterTargets="Build" Condition="'$(Configuration)' == 'Debug'">
        <Copy SourceFiles="$(OutputPath)\$(AssemblyName).dll" DestinationFolder="$(GamePath)\BepInEx\plugins\" />
        <Copy SourceFiles="@(NetDll)" DestinationFolder="$(GamePath)\dotnet\"/>
    </Target>
    <Target Name="Release" AfterTargets="Build" Condition="'$(Configuration)' == 'Release'">
        <Copy SourceFiles="@(NetDll)" DestinationFolder="..\..\Release\$(GameName)\dotnet"/>
        <Copy SourceFiles="$(OutputPath)\$(AssemblyName).dll" DestinationFolder="..\..\Release\$(GameName)\BepinEx\plugins"/>
        <ZipDirectory SourceDirectory="..\..\Release\$(GameName)" Overwrite="true" DestinationFile="..\..\$(AssemblyName).zip"/>
    </Target>
    <Target Name="CleanRelease" AfterTargets="Clean">
        <RemoveDir Directories="..\..\Release\$(GameName)"/>
        <Delete Files="..\..\$(AssemblyName).zip"/>
    </Target>
</Project>